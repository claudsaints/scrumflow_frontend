<div class="default-card project-list">
    <div style="display: flex; align-items: center; justify-content: space-between; gap: 8px;">
        <h3 style="flex:1; margin:0;">{{listData.title}}</h3>
        <p-menu #menu [model]="items" [popup]="true"  c/>
        <p-button (click)="menu.toggle($event)" variant="text" severity="primary" icon="pi pi-ellipsis-v" />
    </div>

    <div class="card-list">
        @for (item of listData.cardList; track $index) {
            <div class="card-item" (click)="openCardDialog(item)">
                <span>{{item.title}}</span>
            </div>
        }
    </div>

    <app-card [card]="selectedCard" [visible]="cardDialogVisible" [onClose]="closeCardDialog.bind(this)"></app-card>

    <p-button pRipple type="button" severity="primary" variant="text" icon="pi pi-plus" label="Adicionar card" 
        class="p-button-text p-button-sm"
        (onClick)="showCreateCardDialog()"
    />
</div>

<p-dialog header="Add new card - {{listData.title}}" [modal]="true" [(visible)]="isCreateCardVisible" [style]="{ width: '25rem' }">
    <p-iftalabel style="margin-bottom: 2rem;">
        <input pInputText id="name"  style="width: 100%;" />
        <label for="list-title">Card Name</label>
    </p-iftalabel>
    <div class="flex justify-end gap-2">
        <p-button label="Cancel" variant="text" severity="danger"  (click)="isCreateCardVisible = false" />
        <p-button label="Add" (click)="isCreateCardVisible = false" />
    </div>
</p-dialog>

<p-dialog header="Edit List - {{listData.title}}" [modal]="true" [(visible)]="isEditLabelVisible" [style]="{ width: '25rem' }">
    <p-iftalabel style="margin-bottom: 2rem;">
        <input pInputText id="list-title"  [value]="listData.title" style="width: 100%;" />
        <label for="list-title">Title</label>
    </p-iftalabel>
    <div class="flex justify-end gap-2">
        <p-button label="Cancel" variant="text" severity="danger"  (click)="isEditLabelVisible = false" />
        <p-button label="Update" (click)="onEditList()" />
    </div>
</p-dialog>
